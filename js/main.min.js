var defaultDistrib="ubuntu";var defaultSearchEngine="qwant";function callFuncWithData(filename,func,params){var request=new XMLHttpRequest();request.open("GET","data/"+filename,true);request.onload=function(){if(request.status>=200&&request.status<400){var data=JSON.parse(request.responseText);eval(func+"(data, params)")}else{alert("Unable to download the file "+filename)}};request.onerror=function(){alert("Connection error : unable to download the file "+filename)};request.send()}function initialize(a,b){switch(b.name){case"distribs":distrib=b.value?b.value:distrib;changeDistrib(a,distrib);break;case"engines":search=b.value?b.value:search;changeSearchEngine(a,search);break}}function fillSelects(b,e){var a=document.querySelector("#"+e.name);for(var d in b){var c=document.createElement("option");c.value=d;c.textContent=b[d].name;a.appendChild(c)}a.value=e.currentValue}function changeDistrib(d,e){distrib=!e?defaultDistrib:e;var g=document.getElementById("logo-img");if(distrib!=g.className){g.setAttribute("src","img/"+distrib+"-logo.png");g.className=distrib;document.getElementById("search").style.backgroundColor="#"+d[distrib].main_color;var a=document.querySelectorAll("#navbar ul li a");for(var c=0;c<a.length;c++){a[c].style.color="#"+d[distrib].main_color}var b=document.querySelector(".site");b.setAttribute("href",d[distrib].site);b.textContent="Site officiel";var f=document.querySelector(".doc");f.setAttribute("href",d[distrib].doc);f.textContent="Documentation";Cookies.set("distrib",distrib,{expires:365,path:"/"})}}function changeSearchEngine(a,c){search=!c?defaultSearchEngine:c;var b=document.getElementById("engine");if(search!=b.className){document.getElementById("form-search").setAttribute("action",a[search].url);document.querySelector("input[type='search']").setAttribute("name",a[search].parameter);b.className=search;b.style.backgroundColor="#"+a[search].colors.circle;b.style.color="#"+a[search].colors.font;b.textContent=search.charAt(0).toUpperCase();Cookies.set("engine",search,{expires:365,path:"/"})}}var distrib=Cookies.get("distrib");var search=Cookies.get("engine");callFuncWithData("distribs.min.json","initialize",{name:"distribs"});callFuncWithData("engines.min.json","initialize",{name:"engines"});callFuncWithData("distribs.min.json","fillSelects",{name:"distribs",currentValue:distrib});callFuncWithData("engines.min.json","fillSelects",{name:"engines",currentValue:search});var distribs=document.getElementById("distribs");var engines=document.getElementById("engines");distribs.onchange=function(){callFuncWithData("distribs.json","initialize",{name:"distribs",value:distribs.value})};engines.onchange=function(){callFuncWithData("engines.json","initialize",{name:"engines",value:engines.value})};