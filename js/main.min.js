"use strict";var defaultDistrib="ubuntu";var defaultEngine="duckduckgo";var defaultLanguage="en";var defaultStyle="light";var distrib=Cookies.get("distrib")?Cookies.get("distrib"):defaultDistrib;var engine=Cookies.get("engine")?Cookies.get("engine"):defaultEngine;var language=Cookies.get("language")?Cookies.get("language"):defaultLanguage;var style=Cookies.get("style")?Cookies.get("style"):defaultStyle;var languages=[];var styles=[];function loadJSON(a,c){var b=new XMLHttpRequest();b.open("GET","data/"+a,true);b.onload=function(){if(this.status>=200&&this.status<400){c(JSON.parse(this.response))}else{alert("Unable to download json data...")}};b.onerror=function(){alert("Unable to download json data...")};b.send()}function createLinks(b){var a=document.querySelectorAll(".link");var c=b.hasOwnProperty(language)?language:defaultLanguage;Object.keys(b[c]).forEach(function(e,d){a[d].setAttribute("href",b[c][e]);a[d].textContent=e})}function changeDistrib(e){var g=document.getElementById("logo");if(distrib!==g.className){g.style.backgroundImage="url('img/"+distrib+"-logo.png')";g.className=distrib;document.getElementById("search").style.backgroundColor="#"+e[distrib].main_color;var b=document.querySelectorAll("#navbar a");for(var d=0;d<b.length;d++){b[d].style.color="#"+e[distrib].main_color}var c=document.querySelector(".website");c.setAttribute("href",e[distrib].website);var f=document.querySelector(".doc");f.setAttribute("href",e[distrib].doc);var a=document.querySelector(".distrowatch");a.setAttribute("href","https://distrowatch.com/"+distrib);Cookies.set("distrib",distrib,{expires:365,path:"/"})}}function changeEngine(b){var a=document.getElementById("engine");if(engine!==a.className){document.getElementById("form-search").setAttribute("action",b[engine].url);document.querySelector("input[type='search']").setAttribute("name",b[engine].parameter);a.className=engine;a.style.backgroundColor="#"+b[engine].colors.circle;a.style.color="#"+b[engine].colors.font;a.textContent=engine.charAt(0).toUpperCase();Cookies.set("engine",engine,{expires:365,path:"/"})}}function changeStyle(b){document.body.style.backgroundColor="#"+b[style].background;var c=document.querySelectorAll(".btn");for(var a=0;a<c.length;a++){c[a].style.backgroundColor="#"+b[style].btn;c[a].onmouseover=function(){this.style.backgroundColor="#"+b[style].btnHover};c[a].onmouseout=function(){this.style.backgroundColor="#"+b[style].btn}}Cookies.set("style",style,{expires:365,path:"/"})}function changeLanguage(c){var d=[];for(var b=0;b<languages.length;b++){d[languages[b]]=["option[value="+languages[b]+"]","textContent"]}for(var a=0;a<styles.length;a++){d[styles[a]]=["option[value="+styles[a]+"]","textContent"]}d.placeholder=["#input-search input","placeholder"];d.doc=["#doc-text","textContent"];d.website=["#website-text","textContent"];d.distrowatch=["#distrowatch-text","textContent"];d.about=["#about-text","textContent"];d.author=["#author-text","textContent"];d.description=["#description-text","textContent"];d.license=["#license-text","textContent"];d.github=["#github-text","textContent"];d.thanks=["#thanks-text","textContent"];d.contributors=["#contributors-text","textContent"];d.close=["#close-text","textContent"];Object.keys(d).forEach(function(e){document.querySelector(d[e][0])[d[e][1]]=c[language][e]});Cookies.set("language",language,{expires:365,path:"/"})}function fillSelect(c){var a=document.querySelector("#"+c[0]);c[1].forEach(function(d){var e=document.createElement("option");e.value=d.toLowerCase().replace(" ","");e.textContent=d;a.appendChild(e)});var b=c[0].substr(0,c[0].length-1);a.value=window[b]}function initDistribs(a){var b=[];Object.keys(a).forEach(function(c){b.push(a[c].name)});fillSelect(["distribs",b]);changeDistrib(a)}function initEngines(a){var b=[];Object.keys(a).forEach(function(c){b.push(a[c].name)});fillSelect(["engines",b]);changeEngine(a)}function initStyles(a){styles=[];Object.keys(a).forEach(function(b){styles.push(b)});fillSelect(["styles",styles]);changeStyle(a)}function initLanguages(a){languages=[];Object.keys(a).forEach(function(b){languages.push(b)});fillSelect(["languages",languages]);changeLanguage(a)}loadJSON("links.min.json",createLinks);loadJSON("distribs.min.json",initDistribs);loadJSON("engines.min.json",initEngines);loadJSON("styles.min.json",initStyles);loadJSON("translations.min.json",initLanguages);document.getElementById("distribs").onchange=function(){distrib=this.value;loadJSON("distribs.min.json",changeDistrib)};document.getElementById("engines").onchange=function(){engine=this.value;loadJSON("engines.min.json",changeEngine)};document.getElementById("styles").onchange=function(){style=this.value;loadJSON("styles.min.json",changeStyle)};document.getElementById("languages").onchange=function(){language=this.value;loadJSON("translations.min.json",changeLanguage);loadJSON("links.min.json",createLinks)};