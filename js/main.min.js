"use strict";var defaultDistrib="ubuntu";var defaultEngine="qwant";var defaultLanguage="en";var languages=["en","fr"];var distrib=!Cookies.get("distrib")?defaultDistrib:Cookies.get("distrib");var engine=!Cookies.get("engine")?defaultEngine:Cookies.get("engine");var language="";if(Cookies.get("language")){language=Cookies.get("language")}else{var userLang=navigator.language||navigator.userLanguage;userLang=userLang.substring(0,2).toLowerCase();if(languages.includes(userLang)){language=userLang}else{language=defaultLanguage}}function loadJSON(a,c){var b=new XMLHttpRequest();b.open("GET","data/"+a,true);b.onreadystatechange=function(d){if(b.readyState===4){if(b.status===200){c(JSON.parse(b.responseText))}}};b.send(null)}function createLinks(a){var b=document.getElementById("websites");Object.keys(a).forEach(function(e){var c=document.createElement("li");var d=document.createElement("a");d.className="btn";d.setAttribute("href",a[e]);d.textContent=e;c.appendChild(d);b.appendChild(c)})}function changeDistrib(d){var f=document.getElementById("logo-img");if(distrib!==f.className){f.setAttribute("src","img/"+d[distrib].name.toLowerCase()+"-logo.png");f.className=distrib;document.getElementById("search").style.backgroundColor="#"+d[distrib].main_color;var a=document.querySelectorAll("#navbar a");for(var c=0;c<a.length;c++){a[c].style.color="#"+d[distrib].main_color}var b=document.querySelector(".website");b.setAttribute("href",d[distrib].website);var e=document.querySelector(".doc");e.setAttribute("href",d[distrib].doc);Cookies.set("distrib",distrib,{expires:365,path:"/"})}}function changeEngine(b){var a=document.getElementById("engine");if(engine!==a.className){document.getElementById("form-search").setAttribute("action",b[engine].url);document.querySelector("input[type='search']").setAttribute("name",b[engine].parameter);a.className=engine;a.style.backgroundColor="#"+b[engine].colors.circle;a.style.color="#"+b[engine].colors.font;a.textContent=engine.charAt(0).toUpperCase();Cookies.set("engine",engine,{expires:365,path:"/"})}}function changeLanguage(a){document.querySelector("option[value='en']").textContent=a[language].en_msg;document.querySelector("option[value='fr']").textContent=a[language].fr_msg;document.querySelector("#input-search input").placeholder=a[language].placeholder_msg;document.querySelector(".website").textContent=a[language].website_msg;document.querySelector(".doc").textContent=a[language].doc_msg;document.querySelector("#about-modal .modal-header").textContent=a[language].about_msg;document.querySelector("#about-modal #author_msg").textContent=a[language].author_msg;document.querySelector("#about-modal #description_msg").textContent=a[language].description_msg;document.querySelector("#about-modal #license_msg").textContent=a[language].license_msg;document.querySelector("#about-modal #github_msg").textContent=a[language].github_msg;document.querySelector("#about-modal #thanks_msg").textContent=a[language].thanks_msg;document.querySelector("#about-modal #contributors_msg").textContent=a[language].contributors_msg;document.querySelector("#about-modal #close_msg").textContent=a[language].close_msg;Cookies.set("language",language,{expires:365,path:"/"});document.getElementById("languages").value=language}function fillSelect(b){var a=document.querySelector("#"+b[0]);b[1].forEach(function(c){var d=document.createElement("option");d.value=c.toLowerCase();d.textContent=c;a.appendChild(d)});a.value=(b[0]==="distribs")?distrib:engine}function initDistribs(a){var b=[];Object.keys(a).forEach(function(c){b.push(a[c].name)});fillSelect(["distribs",b]);changeDistrib(a)}function initEngines(a){var b=[];Object.keys(a).forEach(function(c){b.push(a[c].name)});fillSelect(["engines",b]);changeEngine(a)}loadJSON("links.min.json",createLinks);loadJSON("distribs.min.json",initDistribs);loadJSON("engines.min.json",initEngines);loadJSON("translations.min.json",changeLanguage);document.getElementById("distribs").onchange=function(){distrib=this.value;loadJSON("distribs.min.json",changeDistrib)};document.getElementById("engines").onchange=function(){engine=this.value;loadJSON("engines.min.json",changeEngine)};document.getElementById("languages").onchange=function(){language=this.value;loadJSON("translations.min.json",changeLanguage)};